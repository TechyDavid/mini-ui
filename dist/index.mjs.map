{"version":3,"sources":["../packages/ui/src/theme.ts","../packages/ui/src/ssr.ts","../packages/ui/src/ThemeProvider.tsx","../packages/ui/src/useTheme.tsx","../packages/ui/src/components/Box.tsx","../packages/ui/src/components/Buttons.tsx"],"names":["jsx","React"],"mappings":"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","file":"index.mjs","sourcesContent":["// packages/ui/src/theme.ts\r\nexport type ColorSet = {\r\n  background: string;\r\n  surface: string;\r\n  text: string;\r\n  muted: string;\r\n  primary: string;\r\n  primaryText: string;\r\n};\r\n\r\nexport type Theme = {\r\n  name?: string;\r\n  colors: ColorSet;\r\n  space: Record<string, string>;\r\n  radii: Record<string, string>;\r\n  fonts: { body: string; heading: string; mono?: string };\r\n  breakpoints: { sm: string; md: string; lg: string; xl: string };\r\n  // extend as needed\r\n};\r\n\r\nexport const defaultLightTheme: Theme = {\r\n  name: 'light',\r\n  colors: {\r\n    background: '#ffffff',\r\n    surface: '#fbfbfd',\r\n    text: '#0f172a',\r\n    muted: '#64748b',\r\n    primary: '#2563eb',\r\n    primaryText: '#ffffff',\r\n  },\r\n  space: {\r\n    '1': '4px',\r\n    '2': '8px',\r\n    '3': '12px',\r\n    '4': '16px',\r\n    '5': '20px',\r\n    '6': '24px',\r\n  },\r\n  radii: {\r\n    sm: '4px',\r\n    md: '8px',\r\n    lg: '12px',\r\n    round: '9999px',\r\n  },\r\n  fonts: {\r\n    body: 'Inter, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial',\r\n    heading: 'Inter, system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial',\r\n  },\r\n  breakpoints: {\r\n    sm: '640px',\r\n    md: '768px',\r\n    lg: '1024px',\r\n    xl: '1280px',\r\n  },\r\n};\r\n\r\nexport const defaultDarkTheme: Theme = {\r\n  ...defaultLightTheme,\r\n  name: 'dark',\r\n  colors: {\r\n    background: '#0b1220',\r\n    surface: '#0f1724',\r\n    text: '#e6eef8',\r\n    muted: '#98a6bf',\r\n    primary: '#3b82f6',\r\n    primaryText: '#0b1220',\r\n  },\r\n};\r\n\r\nexport function createTheme(partial: Partial<Theme> = {}, base: Theme = defaultLightTheme): Theme {\r\n  return deepMerge(base, partial);\r\n}\r\n\r\nfunction deepMerge<T>(a: T, b: Partial<T>): T {\r\n  if (!b) return a;\r\n  const out: any = Array.isArray(a) ? [...(a as any)] : { ...(a as any) };\r\n  for (const k of Object.keys(b) as (keyof typeof b)[]) {\r\n    const av = (a as any)[k];\r\n    const bv = (b as any)[k];\r\n    if (bv && typeof bv === 'object' && !Array.isArray(bv)) {\r\n      out[k] = deepMerge(av ?? {}, bv);\r\n    } else {\r\n      out[k] = bv;\r\n    }\r\n  }\r\n  return out as T;\r\n}\r\n","// packages/ui/src/ssr.ts\r\nimport type { Theme } from './theme';\r\n\r\nexport function cssVarsFromTheme(theme: Theme): string {\r\n  const lines: string[] = [];\r\n  // colors\r\n  for (const [k, v] of Object.entries(theme.colors)) {\r\n    lines.push(`--ui-color-${k}: ${v};`);\r\n  }\r\n  // spacing\r\n  for (const [k, v] of Object.entries(theme.space)) {\r\n    lines.push(`--ui-space-${k}: ${v};`);\r\n  }\r\n  for (const [k, v] of Object.entries(theme.radii)) {\r\n    lines.push(`--ui-radius-${k}: ${v};`);\r\n  }\r\n  lines.push(`--ui-font-body: ${theme.fonts.body};`);\r\n  lines.push(`--ui-font-heading: ${theme.fonts.heading};`);\r\n  // breakpoints as vars\r\n  for (const [k, v] of Object.entries(theme.breakpoints)) {\r\n    lines.push(`--ui-breakpoint-${k}: ${v};`);\r\n  }\r\n  return `:root{${lines.join('')}}`;\r\n}\r\n\r\n/** Return a style tag string you can inject into SSR HTML head */\r\nexport function generateCssVarsStyleTag(theme: Theme): string {\r\n  const css = cssVarsFromTheme(theme);\r\n  return `<style data-ui-theme>${css}</style>`;\r\n}\r\n","// packages/ui/src/ThemeProvider.tsx\r\nimport React, { createContext, useContext, useEffect, useMemo, useState } from 'react';\r\nimport type { Theme } from './theme';\r\nimport { defaultLightTheme, defaultDarkTheme } from './theme';\r\nimport { cssVarsFromTheme } from './ssr';\r\n\r\ntype ColorScheme = 'light' | 'dark' | 'auto';\r\ntype ThemeContextValue = {\r\n  theme: Theme;\r\n  colorScheme: 'light' | 'dark';\r\n  setTheme: (t: Theme) => void;\r\n  setColorScheme: (s: ColorScheme) => void;\r\n  toggleColorScheme: () => void;\r\n};\r\n\r\nconst ThemeContext = createContext<ThemeContextValue | undefined>(undefined);\r\n\r\nexport type ThemeProviderProps = {\r\n  theme?: Theme;\r\n  colorScheme?: ColorScheme;\r\n  enableSystem?: boolean;\r\n  storageKey?: string;\r\n  children?: React.ReactNode;\r\n};\r\n\r\nexport const ThemeProvider: React.FC<ThemeProviderProps> = ({\r\n  theme: initialTheme,\r\n  colorScheme = 'auto',\r\n  enableSystem = true,\r\n  storageKey = 'ui:color-scheme',\r\n  children,\r\n}) => {\r\n  const baseLight = defaultLightTheme;\r\n  const baseDark = defaultDarkTheme;\r\n\r\n  const [userScheme, setUserScheme] = useState<ColorScheme>(() => {\r\n    try {\r\n      const stored = typeof window !== 'undefined' ? localStorage.getItem(storageKey) : null;\r\n      return (stored as ColorScheme) || colorScheme || 'auto';\r\n    } catch {\r\n      return colorScheme;\r\n    }\r\n  });\r\n\r\n  const systemPrefersDark = (() => {\r\n    if (typeof window === 'undefined') return false;\r\n    return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\r\n  })();\r\n\r\n  const effectiveScheme: 'light' | 'dark' =\r\n    userScheme === 'auto' ? (enableSystem && systemPrefersDark ? 'dark' : 'light') : (userScheme as 'light' | 'dark');\r\n\r\n  const [theme, setThemeState] = useState<Theme>(() => {\r\n    if (initialTheme) return initialTheme;\r\n    return effectiveScheme === 'dark' ? baseDark : baseLight;\r\n  });\r\n\r\n  // ensure theme updates when scheme changes (client)\r\n  useEffect(() => {\r\n    const newTheme = effectiveScheme === 'dark' ? baseDark : baseLight;\r\n    setThemeState((prev) => ({ ...newTheme, ...(initialTheme ?? {}) }));\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [effectiveScheme, initialTheme]);\r\n\r\n  // inject css vars into head (client)\r\n  useEffect(() => {\r\n    const id = 'ui-theme-vars';\r\n    let el = document.getElementById(id) as HTMLStyleElement | null;\r\n    const css = cssVarsFromTheme(theme);\r\n    if (!el) {\r\n      el = document.createElement('style');\r\n      el.id = id;\r\n      el.setAttribute('data-ui-theme', 'true');\r\n      el.innerHTML = css;\r\n      document.head.appendChild(el);\r\n    } else {\r\n      if (el.innerHTML !== css) el.innerHTML = css;\r\n    }\r\n  }, [theme]);\r\n\r\n  // persist user choice\r\n  useEffect(() => {\r\n    try {\r\n      localStorage.setItem(storageKey, userScheme);\r\n    } catch {\r\n      // ignore\r\n    }\r\n  }, [userScheme, storageKey]);\r\n\r\n  const value = useMemo(\r\n    () => ({\r\n      theme,\r\n      colorScheme: effectiveScheme,\r\n      setTheme: setThemeState,\r\n      setColorScheme: (s: ColorScheme) => setUserScheme(s),\r\n      toggleColorScheme: () =>\r\n        setUserScheme((prev) => (prev === 'dark' ? 'light' : prev === 'light' ? 'dark' : systemPrefersDark ? 'light' : 'dark')),\r\n    }),\r\n    [theme, effectiveScheme, systemPrefersDark],\r\n  );\r\n\r\n  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;\r\n};\r\n\r\nexport function useThemeProviderContext() {\r\n  const ctx = useContext(ThemeContext);\r\n  if (!ctx) throw new Error('useThemeProviderContext must be used within ThemeProvider');\r\n  return ctx;\r\n}\r\n","// packages/ui/src/useTheme.tsx\r\nimport { useThemeProviderContext } from './ThemeProvider';\r\n\r\nexport function useTheme() {\r\n  const ctx = useThemeProviderContext();\r\n  return {\r\n    theme: ctx.theme,\r\n    colorScheme: ctx.colorScheme,\r\n    setTheme: ctx.setTheme,\r\n    setColorScheme: ctx.setColorScheme,\r\n    toggleColorScheme: ctx.toggleColorScheme,\r\n  };\r\n}\r\n","// packages/ui/src/components/Box.tsx\r\nimport React from 'react';\r\n\r\ntype BoxProps = React.HTMLAttributes<HTMLElement> & {\r\n  as?: React.ElementType;\r\n  p?: string;\r\n  px?: string;\r\n  py?: string;\r\n  m?: string;\r\n  display?: React.CSSProperties['display'];\r\n  w?: string;\r\n  h?: string;\r\n  bg?: string;\r\n  color?: string;\r\n  style?: React.CSSProperties;\r\n};\r\n\r\nexport const Box: React.FC<BoxProps> = ({ as = 'div', children, style, p, px, py, m, display, w, h, bg, color, ...rest }) => {\r\n  const Tag: React.ElementType = as;\r\n  const resolvedStyle: React.CSSProperties = {\r\n    padding: p,\r\n    paddingLeft: px ?? undefined,\r\n    paddingRight: px ?? undefined,\r\n    paddingTop: py ?? undefined,\r\n    paddingBottom: py ?? undefined,\r\n    margin: m,\r\n    display,\r\n    width: w,\r\n    height: h,\r\n    background: bg ? `var(${bg})` : undefined,\r\n    color: color ? `var(${color})` : undefined,\r\n    ...style,\r\n  };\r\n  return (\r\n    <Tag style={resolvedStyle} {...rest}>\r\n      {children}\r\n    </Tag>\r\n  );\r\n};\r\n","// packages/ui/src/components/Button.tsx\r\nimport React from 'react';\r\nimport '../styles.css';\r\n\r\nexport type ButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\r\n  variant?: 'solid' | 'ghost' | 'outline' | 'link';\r\n  size?: 'xs' | 'sm' | 'md' | 'lg';\r\n  color?: string; // CSS variable or color\r\n  loading?: boolean;\r\n  leftIcon?: React.ReactNode;\r\n  rightIcon?: React.ReactNode;\r\n};\r\n\r\nexport const Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ variant = 'solid', size = 'md', color = 'var(--ui-color-primary)', loading, leftIcon, rightIcon, children, ...rest }, ref) => {\r\n    const className = `ui-btn ui-btn--${variant} ui-btn--${size}`;\r\n    const style: React.CSSProperties = {\r\n      // allow using CSS variables or raw colors\r\n      ['--ui-btn-bg-color' as any]: color,\r\n    };\r\n\r\n    return (\r\n      <button ref={ref} className={className} style={style} disabled={rest.disabled || loading} {...rest}>\r\n        {loading ? <span className=\"ui-btn__spinner\" aria-hidden /> : leftIcon ? <span className=\"ui-btn__icon\">{leftIcon}</span> : null}\r\n        <span className=\"ui-btn__label\">{children}</span>\r\n        {rightIcon ? <span className=\"ui-btn__icon\">{rightIcon}</span> : null}\r\n      </button>\r\n    );\r\n  },\r\n);\r\n\r\nButton.displayName = 'Button';\r\n"]}